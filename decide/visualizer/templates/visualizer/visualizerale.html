{% extends "base.html" %}
{% load i18n static %}

{% block extrahead %}
    <link type="text/css" rel="stylesheet"
         href="https://unpkg.com/bootstrap/dist/css/bootstrap.min.css" />
    <link type="text/css" rel="stylesheet"
         href="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.css" />
    <link type="text/css" rel="stylesheet" href="{% static "booth/style.css" %}" />
{% endblock %}

{% block content %}
<style>
        /*--------------------------ESTILOS------------------*/
        body{
            background: #ebf2f7;
            transition: .5s ease all;
        }
        body.dark{
            background-color: #111111;
            color: #f1f1f1;

        }
        body.grey{
            
            filter: grayscale(100%);
            
        }
        body.yellow{
            background-color: #111111;
            color: yellow;

        }
            
        .container nav{
            background-color: rgb(19, 136, 190) !important;
            
        }
        
        h1{
            text-align: center !important;
        }
        h2{
            text-align: center !important;
            background-color: rgb(19, 136, 190);
            color: #f1f1f1;
        }
        
        table thead{
            background-color: rgb(13, 82, 114);
            color: #f1f1f1;
        }

        table tbody{
            background-color: rgb(178, 198, 207);
            color: #f1f1f1;
        }
         body.dark h1{
            color: #f1f1f1;

        }
        body.dark h2{
            color: #f1f1f1;

        }
        body.yellow h1{
            color: yellow;

        }
        body.yellow h2{
            color: yellow;
        }
    
        body.yellow table thead{
            background-color: yellow;
            color: black;
        }

        body.yellow table tbody tr td{
            background-color: rgb(13, 82, 114);
            color: yellow !important;
        }
        
        body.yellow table tbody tr th{
            background-color: rgb(13, 82, 114);
            color: yellow !important;
        }



        table tbody{
            background-color: rgb(178, 198, 207);
            color: black;
        }

        .accesibilidad{
            margin-left: 1%;
            margin-top: 1%;
            display: none;
            
        }
        /*
        .container {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            width: auto;
            flex-direction: column;
            margin: 20px auto;

        }
            /*----------------BOTONES DE ACCESIBILIDAD -----------------*/
            /*----------------BOTON NOCHE -----------------*/

        .switch{
            background: #343D5B;
            border-radius: 1000px;
            border: none;
            position: relative;
            cursor: pointer;
            display: flex;
            outline: none;
            margin-left: 4%;
            margin-bottom: 1%;
        }
        .switch::after{
            content: "";
            display: block;
            width: 30px;
            height: 30px;
            position: absolute;
            background: #f1f1f1;
            top: 0;
            left: 0;
            right: unset;
            border-radius: 100px;
            transition: .3s ease all;
            box-shadow: 0px 0px 2px 2px rgba(0, 0, 0, .2);

        }
        .switch.active{
            background: orange;
            color: #000;
        }
        .switch.active::after{
            right: 0;
            left: unset;
        }
        .switch span{
            width: 30px;
            height: 30px;
            line-height: 30px;
            display: block;
            background: none;
            color: #fff;
        }

            /*----------------BOTON GRIS  -----------------*/

        .switch2{
            background: #343D5B;
            border-radius: 1000px;
            border: none;
            position: relative;
            cursor: pointer;
            display: flex;
            outline: none;
            margin-left: 4%;
            margin-bottom: 1%;

        }
        .switch2::after{
            content: "";
            display: block;
            width: 30px;
            height: 30px;
            position: absolute;
            background: #f1f1f1;
            top: 0;
            left: 0;
            right: unset;
            border-radius: 100px;
            transition: .3s ease all;
            box-shadow: 0px 0px 2px 2px rgba(0, 0, 0, .2);

        }
        .switch2.active{
            background: orange;
            color: #000;
        }
        .switch2.active::after{
            right: 0;
            left: unset;
        }
        .switch2 span{
            width: 30px;
            height: 30px;
            line-height: 30px;
            display: block;
            background: none;
            color: #fff;
        }
            /*----------------BOTON YELLOW  -----------------*/

        .switch3{
            background: #343D5B;
            border-radius: 1000px;
            border: none;
            position: relative;
            cursor: pointer;
            display: flex;
            outline: none;
            margin-left: 4%;
            margin-bottom: 1%;

            
        }
        .switch3::after{
            content: "";
            display: block;
            width: 30px;
            height: 30px;
            position: absolute;
            background: #f1f1f1;
            top: 0;
            left: 0;
            right: unset;
            border-radius: 100px;
            transition: .3s ease all;
            box-shadow: 0px 0px 2px 2px rgba(0, 0, 0, .2);

        }
        .switch3.active{
            background: orange;
            color: #000;
        }
        .switch3.active::after{
            right: 0;
            left: unset;
        }
        .switch3 span{
            width: 30px;
            height: 30px;
            line-height: 30px;
            display: block;
            background: none;
            color: #fff;
        }
            /*----------------SLIDER -----------------*/
        .size-slider{
            width: 95%;
            display: flex;
            margin-top: 10px;
            margin-bottom: 20px;
            margin-left: 20px;
        }
        .size-slider2{
            width: 95%;
            display: flex;
            margin-top: 10px;
            margin-bottom: 20px;
            margin-left: 20px;
        }

     </style>

<script>
function increase() {
    document.getElementById("app-visualizer").style.fontSize = 
    document.getElementById("value").value + 'px';
  
}

function increase2() {
    document.getElementById("holder").style.lineHeight =
    document.getElementById("value2").value /10 ;
  
}

</script>
 <script>
        function myFunction() {
        document.body.classList.toggle('dark');
        document.getElementById("switch").classList.toggle('active');
/*
        if(document.body.classList.toggle.contains('dark')){
            localStorage.setItem('dark-mode', 'true');
        } else{
            localStorage.setItem('dark-mode', 'false');

        }

        if(localStorage.getItem('dark-mode') == 'true'){
            document.body.classList.add('dark');
            document.getElementById("switch").classList.add('active');
        }else{
            document.body.classList.remove('dark');
            document.getElementById("switch").classList.remove('active');
        }
*/

    }   

        function myFunction2() {
            document.body.classList.toggle('grey');
            document.getElementById("switch2").classList.toggle('active');

        }
        function myFunction3() {
            document.body.classList.toggle('yellow');
            document.getElementById("switch3").classList.toggle('active');

        }   
    </script>
    <script> 
    function mostrar(){
        document.getElementById("acc").style.display= "block";
    }
    function ocultar(){
        document.getElementById("acc").style.display= "none";
    }
    function ambas(){
        var  acc=  document.getElementById("acc");
        if(acc.style.display == "none"){
            mostrar();
            document.getElementById("acc").value= "Mostrar opciones de accesibilidad";

        }else{
            ocultar();
            document.getElementById("acc").value= "Ocultar opciones de accesibilidad";

        }
    }
    
    </script>


<button class="btn btn-primary" id="boton" onclick="ambas();
 " style="margin-top: 1%; margin-left:2%;margin-bottom:1%;">Zugangsmöglichkeiten </button>
    <div class="accesibilidad" id="acc">
            <h3 style="margin-left: 1.5%;">Barrierefreiheit</h3>
            
            <p  style="margin-left: 2%;">Schriftgröße</p> 
            <div class="size-slider">
                
                <input type="range" id="value" min="15" max = "35" value = "15" onchange="increase()"/>
            </div>
         <p  style="margin-left: 2%;">Abstand zwischen den Zeilen</p> 
            <div class="size-slider2">
                
                <input type="range" id="value2" min="15" max = "35" onchange="increase2()"/>
            </div>
        <p  style="margin-left: 2%;">dunkler Modus</p>
            <button class="switch" id="switch" onclick="myFunction()">
                <span> <i class = "fas fa-sun"></i></span>
                <span> <i class = "fas fa-moon"></i></span>

            </button>
        <p  style="margin-left: 2%;">Graustufenmodus</p>

            <button class="switch2" id="switch2" onclick="myFunction2()">
                <span> <i class = "fas fa-sun"></i></span>
                <span> <i class = "fas fa-moon"></i></span>

            </button>
        <p  style="margin-left: 2%;">MModus mit hohem Kontrast</p>

            <button class="switch3" id="switch3" onclick="myFunction3()">
                <span> <i class = "fas fa-sun"></i></span>
                <span> <i class = "fas fa-moon"></i></span>

            </button>
    </div>
<div class="container">
    <div id="app-visualizer">

        <!-- Navbar -->
        <b-navbar type="dark" variant="secondary">
            <b-navbar-brand tag="h1" style="margin-left: 2%;">Decide, Eine App für Ihre Stimmen und Ergebnisse</b-navbar-brand>
        </b-navbar>

        

        
        <h1>[[ voting.name ]]</h1>
        <div class="voting container">
            
            <h3 >[[ voting.id ]] - [[ voting.name ]]</h3>

            <h2 v-if="!voting.start_date">Die nächste Abstimmung über "[[ voting.name ]]" hat noch nicht begonnen, bitte warten Sie, bis sie beginnt, um darüber abstimmen zu können. Vielen Dank.            </h2>
            <h2 v-else-if="!voting.end_date">Die nächste Abstimmung über "[[ voting.name ]]" ist im Gange und Sie haben das Recht, darüber abzustimmen. Nachdem Sie Ihre Entscheidung getroffen haben, können Sie abstimmen.</h2>
            <div v-else>
                <h2 class="heading">Die nächste Abstimmung über "[[ voting.name ]]" bereits abgeschlossen ist, hier können Sie die Ergebnisse sehen, die es hatte. Danach können Sie Ihre Stimme nicht mehr ausüben. Vielen Dank</h2>

                <table class="table table-bordered table-striped">
                    <thead>
                        <tr>
                            <th>Möglichkeit</th>
                            <th>Stimmen</th>Die nächste Abstimmung über "[[ voting.name ]]" ist im Gange und Sie haben das Recht, darüber abzustimmen. Nachdem Sie Ihre Entscheidung getroffen haben, können Sie abstimmen.
                            <th>Punkten</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr v-for="opt in voting.postproc" :key="opt.number">
                            <th>[[opt.option]]</th>
                            <td>[[opt.postproc]]</td>
                            <td class="text-muted">[[opt.votes]]</td>
                        </tr>
                    </tbody>
                </table>
            </div>

        </div>
        <p id="holder">
            Die angezeigte Abstimmung hat das Thema "[voting.name ]]".
            Wenn Sie sich für dieses Thema interessieren, finden Sie weitere Informationen auf einer Seite
            extern zu entscheiden, da wir hier nur die Punktzahl und die Stimmen behandeln werden, die dem entsprechen
            Abstimmungsmöglichkeiten bekommen. Wiederholen, dass die Webanwendung nur entscheidet, dass sie ein System ist
            über die Abstimmungen verarbeitet werden.
               
        </p>
</div>  

        
    </div>     
{% endblock %}

{% block extrabody %}
    <!-- Vuejs -->
    <script src="https://unpkg.com/vue@2.7.3"></script>
    <script src="https://unpkg.com/babel-polyfill@latest/dist/polyfill.min.js"></script>
    <script src="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.js"></script>

    <script>
        var voting = {{voting|safe}};
        var app = new Vue({
            delimiters: ['[[', ']]'],
            el: '#app-visualizer',
            data: {
                voting: voting
            }
        })
    </script>
</body>
{% endblock %}
